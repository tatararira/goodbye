<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¬ì—°ì˜ ë¯¸ê¶ - í…ìŠ¤íŠ¸ ì–´ë“œë²¤ì²˜</title>
    <style>
        body {
            background-color: #1a1a1a;
            color: #e0e0e0;
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* ì‚¬ì´ë“œë°” ë•Œë¬¸ì— ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }

        /* ê²Œì„ ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .game-container {
            width: 95%; /* ëª¨ë°”ì¼ì—ì„œëŠ” ê±°ì˜ ê½‰ ì°¨ê²Œ */
            max-width: 600px;
            padding: 20px;
            background-color: #2a2a2a;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            border: 1px solid #444;
            text-align: center;
            transition: margin-right 0.5s; /* ì‚¬ì´ë“œë°” ì—´ë¦´ ë•Œ ì´ë™ íš¨ê³¼ */
        }

        h1 { color: #ff4757; font-size: 1.8rem; margin-bottom: 20px; text-shadow: 2px 2px 4px #000; }
        .story-text { font-size: 1.1rem; line-height: 1.6; margin-bottom: 30px; min-height: 100px; color: #ccc; white-space: pre-line; }
        .choice-buttons { display: flex; flex-direction: column; gap: 10px; }
        .btn { background-color: #3e3e3e; color: white; border: 1px solid #555; padding: 12px; border-radius: 8px; cursor: pointer; transition: all 0.3s; font-size: 1rem; }
        .btn:hover { background-color: #ff4757; border-color: #ff4757; transform: translateY(-2px); }

        /* ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
        .sidebar {
            height: 100%;
            width: 0; 
            position: fixed;
            z-index: 2000; /* íŒì—…ë³´ë‹¤ ë” ìœ„ì— ì˜¤ë„ë¡ ë†’ê²Œ ì„¤ì • */
            top: 0;
            right: 0;
            background-color: rgba(17, 17, 17, 0.95); /* ì‚´ì§ íˆ¬ëª…í•˜ê²Œ í•´ì„œ ë’¤ê°€ ë³´ì´ê²Œ */
            overflow-x: hidden;
            transition: 0.5s;
            border-left: 1px solid #ff4757;
            box-shadow: -5px 0 15px rgba(0,0,0,0.5);
        }

        .sidebar-content {
            padding: 20px;
            color: white;
            min-width: 250px;
        }

        .status-item {
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px dotted #444;
        }

        .status-label { color: #ff4757; font-weight: bold; margin-right: 10px; }

        /* ìƒíƒœì°½ ì—´ê¸° ë²„íŠ¼ */
        .open-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #ff4757;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            z-index: 2;
        }

        /* ë‹«ê¸° ë²„íŠ¼ */
        .close-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 30px;
            color: #888;
            text-decoration: none;
            cursor: pointer;
        }

        .info-card, .npc-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid #444;
        }

        .npc-card h4 { color: #ff4757; margin: 0 0 5px 0; }
        .npc-card p { font-size: 0.8rem; margin: 2px 0; }

        .tab-menu { display: flex; gap: 2px; margin-bottom: 15px; }
        .btn-tab { flex: 1; background: #222; border: none; color: #888; padding: 8px; cursor: pointer; }
        .btn-tab.active { background: #ff4757; color: white; font-weight: bold; }

        .save-controls button {
            width: 100%; padding: 10px; margin-bottom: 5px;
            cursor: pointer; border-radius: 5px; border: none;
        }
        .btn-save { background: #2e7d32; color: white; }
        .btn-load { background: #1565c0; color: white; }
            
        @media (max-width: 600px) {
            .sidebar {
                width: 100% !important; /* ëª¨ë°”ì¼ì€ ì‚¬ì´ë“œë°”ê°€ ì „ì²´ë¥¼ ë®ê²Œ */
                right: -100%;
                transition: 0.3s;
            }
            .sidebar-content {
                min-width: 80vw; /* ëª¨ë°”ì¼ì—ì„œëŠ” í™”ë©´ ë„ˆë¹„ì˜ 80% ì°¨ì§€ */
                padding: 60px 20px 20px 20px; /* ë‹«ê¸° ë²„íŠ¼ ìë¦¬ë¥¼ ìœ„í•´ íŒ¨ë”© ì¶”ê°€ */
            }
            .sidebar.open {
                right: 0;
            }
            .story-text {
                font-size: 1rem;
            }
            .btn {
                padding: 15px; /* ëª¨ë°”ì¼ì€ í„°ì¹˜í•˜ê¸° í¸í•˜ê²Œ ë²„íŠ¼ì„ í‚¤ì›€ */
            }
        }

        .popup-container {
            position: fixed;
            width: 90vw;      /* í™”ë©´ ë„ˆë¹„ì˜ 90% */
            max-width: 400px; /* í•˜ì§€ë§Œ ìµœëŒ€ 400pxê¹Œì§€ë§Œ */
            min-width: 280px;       /* í™”ë©´ ê°€ë¡œ ë„ˆë¹„ì˜ 80%ë¥¼ ë„˜ì§€ ì•Šê²Œ ì œí•œ */
            
            background-color: #2a2a2a;
            border: 2px solid #ff4757;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            
            /* ê¸´ ë‹¨ì–´ê°€ ìˆì„ ë•Œ ì¤„ë°”ê¿ˆ ì²˜ë¦¬ */
            word-break: break-all;   
        }

        .popup-body {
            padding: 20px;
            color: #ccc;
            white-space: pre-line;   /* ì¤„ë°”ê¿ˆ í—ˆìš© */
            overflow-x: hidden;      /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }

        .popup-header {
            background-color: #3e3e3e;
            padding: 10px;
            cursor: grab;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 8px 8px 0 0;
            user-select: none; /* ê¸€ì ë“œë˜ê·¸ ë°©ì§€ */
        }

        .popup-header:active {
            cursor: grabbing;
        }

        .popup-footer {
            padding: 10px;
            display: flex;
            gap: 10px;
            justify-content: center;
            border-top: 1px solid #444;
        }

        .popup-close {
            cursor: pointer;
            font-size: 20px;
            color: #888;
        }

        .popup-close:hover {
            color: white;
        }

        * ì„¸ì´ë¸Œ ìŠ¬ë¡¯ì„
        .save-slot {
            display: flex;
            justify-content: space-between; /* ì •ë³´ì™€ ë²„íŠ¼ì„ ì–‘ì˜†ìœ¼ë¡œ */
            align-items: center;
            padding: 8px 15px; /* ìœ„ì•„ë˜ íŒ¨ë”© ê°ì†Œ */
            margin-bottom: 6px; /* ìŠ¬ë¡¯ ê°„ ê°„ê²© ê°ì†Œ */
            background: #222;
            border: 1px solid #444;
            border-radius: 6px;
            gap: 10px;
        }

        .save-slot.has-data { border-left: 4px solid #ff4757; } /* ê°•ì¡° ì„ ë§Œ ì˜†ì— í‘œì‹œ */

        .slot-info {
            flex: 1; /* ê°€ë¡œ ê³µê°„ í™•ë³´ */
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .slot-header {
            display: flex;
            gap: 10px;
            align-items: baseline;
            font-size: 0.85rem;
        }

        .slot-location {
            font-size: 0.9rem;
            color: #fff;
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis; /* ê¸€ìê°€ ê¸¸ë©´ ... ì²˜ë¦¬ */
        }

        .slot-preview {
            font-size: 0.75rem;
            color: #777;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .slot-btns {
            display: flex;
            gap: 4px;
            flex-shrink: 0; /* ë²„íŠ¼ ì˜ì—­ì´ ì¢ì•„ì§€ì§€ ì•Šê²Œ */
        }

        .btn-s {
            padding: 4px 8px;
            font-size: 0.7rem;
            min-width: 40px;
        }


    </style>
</head>

<body>

<button class="open-btn" onclick="toggleSidebar()">ğŸ‘¤ ìºë¦­í„° ì •ë³´</button>

<button class="open-btn" onclick="toggleSidebar()">ğŸ‘¤ ìºë¦­í„° ì •ë³´ [0]</button>

<div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="close-btn" onclick="toggleSidebar()">&times;</a>
    
    <div class="sidebar-content">
        <h2>Information</h2>
        
        <div style="display: flex; gap: 5px; margin-bottom: 20px;">
            <button class="btn" style="flex:1; font-size: 0.7rem; padding: 5px;" onclick="showTab('status')">ë‚´ ì •ë³´</button>
            <button class="btn" style="flex:1; font-size: 0.7rem; padding: 5px;" onclick="showTab('npc')">ì£¼ë³€ ì¸ë¬¼</button>
            <button class="btn" style="flex:1; font-size: 0.7rem; padding: 5px;" onclick="showTab('system')">ì‹œìŠ¤í…œ</button>
        </div>

        <div id="tab-status">
            <div class="status-item"><span class="status-label">ì´ë¦„:</span> <span id="p-name">ëª¨í—˜ê°€</span></div>
            <div class="status-item"><span class="status-label">ì²´ë ¥:</span> <span id="p-hp">100 / 100</span></div>
            <div class="status-item"><span class="status-label">í”¼ë¡œ:</span> <span id="p-sleep">0 / 100</span></div> <div class="status-item"><span class="status-label">ì‹œê°„:</span> <span id="p-time">00:00</span></div>
            <div class="status-item">
                <span class="status-label">ì†Œì§€í’ˆ:</span>
                <ul id="p-items" style="padding-left: 20px; color: #aaa;"></ul>
            </div>
        </div>

        <div id="tab-npc" style="display: none;">
            <h3 style="color: #ff4757; border-bottom: 1px solid #444; margin-bottom: 15px;">ì£¼ë³€ ì¸ë¬¼</h3>
            <div id="npc-list"></div>
        </div>

        <div id="tab-system" style="display: none;">
            <div class="save-controls">
                <button class="btn" style="width:100%; background:#ff4757; margin-bottom:10px;" onclick="showSaveMenu(1)">ğŸ’¾ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸° (ìŠ¬ë¡¯)</button>
                <p style="font-size: 0.7rem; color: #888; margin-top: 10px; text-align:center;">
                    * ì—¬ëŸ¬ ê°œì˜ ìŠ¬ë¡¯ì— ê²Œì„ì„ ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>
        </div>
    </div> </div>

    <div id="custom-popup" class="popup-container" style="display: none;">
    <div id="popup-header" class="popup-header">
        <span id="popup-title">ì•Œë¦¼</span>
        <span class="popup-close" onclick="closePopup()">&times;</span>
    </div>
    <div id="popup-content" class="popup-body">
        ì—¬ê¸°ì— ë‚´ìš©ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.
    </div>
</div>





<div id="main" class="game-container">
    <h1></h1>
    <div id="text" class="story-text">
        ë‹¹ì‹ ì€ ì¹¨ëŒ€ì—ì„œ ì¼ì–´ë‚©ë‹ˆë‹¤. ë”°ëœ»í•œ íŒŒìë§ˆì˜ ì˜¨ê¸°ë¥¼ ëŠë¼ë©° ë§‘ì€ ì˜¤í›„ ì•„ì¹¨ì„ ë§ì´í•©ë‹ˆë‹¤. ë‹¹ì‹ ì€ ì´ë¶ˆì„ ì •ë¦¬í•˜ê³  ìë¦¬ì—ì„œ ì¼ì–´ë‚©ë‹ˆë‹¤.
    </div>
    <div id="buttons" class="choice-buttons">
        <button class="btn" onclick="updateScene('bed')">ì ì„ ì²­í•œë‹¤.</button>
        <button class="btn" onclick="updateScene('mirror1')">ê±°ìš¸ì„ ë°”ë¼ë³¸ë‹¤.</button>
        <button class="btn" onclick="updateScene('room-outside')">ë°© ë°–ìœ¼ë¡œ ë‚˜ê°„ë‹¤.</button>
    </div>
</div>

<script>
    // 1. ìºë¦­í„° ì´ˆê¸° ë°ì´í„°

    function getRandomText(textArray) {
        const randomIndex = Math.floor(Math.random() * textArray.length);
        return textArray[randomIndex];
    }
    
    let popupZIndex = 1000; // ìƒˆ ì°½ì´ ëœ° ë•Œë§ˆë‹¤ ìœ„ë¡œ ì˜¤ê²Œ í•¨

/**
 * @param {string} title - ì œëª©
 * @param {string} content - ë‚´ìš©
 * @param {object} options - { x, y, buttons }
 * ì˜ˆ: { x: 100, y: 100, buttons: [{text: 'í™•ì¸', action: () => { ... }}] }
 */
function createPopup(title, content, options = {}) {
    // 1. ìœ„ì¹˜ ê³„ì‚° (í•¨ìˆ˜ ì•ˆì—ì„œ ì‚¬ìš©í•  ì§€ì—­ ë³€ìˆ˜ë“¤)
    const posX = options.x !== undefined ? options.x : (window.innerWidth / 2 - 150) + (Math.random() * 40);
    const posY = options.y !== undefined ? options.y : (window.innerHeight / 2 - 100) + (Math.random() * 40);

    // 2. íŒì—… ìš”ì†Œ ìƒì„± (ê°€ì¥ ë¨¼ì € í•´ì•¼ í•¨!)
    const popup = document.createElement('div');
    popup.className = 'popup-container';
    popup.style.left = posX + 'px';
    popup.style.top = posY + 'px';
    popup.style.zIndex = ++popupZIndex;

    // 3. ë‚´ë¶€ HTML êµ¬ì„±
    let buttonsHTML = '';
    if (options.buttons && options.buttons.length > 0) {
        buttonsHTML = `<div class="popup-footer"></div>`;
    }

    popup.innerHTML = `
        <div class="popup-header">
            <span>${title}</span>
            <span class="popup-close" style="cursor:pointer;">&times;</span>
        </div>
        <div class="popup-body">${content}</div>
        ${buttonsHTML}
    `;

    // 4. [ì¤‘ìš”] ë³€ìˆ˜ ì„ ì–¸ ë° ì´ë²¤íŠ¸ ì—°ê²°
    // ì—¬ê¸°ì„œ headerë¥¼ ì •ì˜í•˜ë©´ ë°”ë¡œ ìœ—ì¤„ì—ì„œ ë§Œë“  popupì„ ì°¸ì¡°í•˜ê²Œ ë©ë‹ˆë‹¤.
    const header = popup.querySelector('.popup-header');
    let shiftX, shiftY;

    // ë“œë˜ê·¸ ì¤‘ ë¡œì§
    const onMove = (e) => {
        const clientX = e.clientX !== undefined ? e.clientX : (e.touches ? e.touches[0].clientX : 0);
        const clientY = e.clientY !== undefined ? e.clientY : (e.touches ? e.touches[0].clientY : 0);
        popup.style.left = (clientX - shiftX) + 'px';
        popup.style.top = (clientY - shiftY) + 'px';
    };

    // ë“œë˜ê·¸ ì¢…ë£Œ ë¡œì§
    const onEnd = () => {
        document.removeEventListener('mousemove', onMove);
        document.removeEventListener('mouseup', onEnd);
        document.removeEventListener('touchmove', onMove);
        document.removeEventListener('touchend', onEnd);
    };

    // ë“œë˜ê·¸ ì‹œì‘ ë¡œì§
    const startDrag = (e) => {
        popup.style.zIndex = ++popupZIndex;
        const clientX = e.clientX !== undefined ? e.clientX : (e.touches ? e.touches[0].clientX : 0);
        const clientY = e.clientY !== undefined ? e.clientY : (e.touches ? e.touches[0].clientY : 0);
        
        shiftX = clientX - popup.getBoundingClientRect().left;
        shiftY = clientY - popup.getBoundingClientRect().top;

        document.addEventListener('mousemove', onMove);
        document.addEventListener('mouseup', onEnd);
        document.addEventListener('touchmove', onMove, { passive: false });
        document.addEventListener('touchend', onEnd);
    };

    // 5. ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    header.addEventListener('mousedown', startDrag);
    header.addEventListener('touchstart', startDrag, { passive: false });

    // 6. ë‹«ê¸° ê¸°ëŠ¥ ë° ë²„íŠ¼ ì²˜ë¦¬
    popup.querySelector('.popup-close').onclick = () => popup.remove();

    if (options.buttons) {
        const footer = popup.querySelector('.popup-footer');
        options.buttons.forEach(btnInfo => {
            const btn = document.createElement('button');
            btn.className = 'btn';
            btn.style.fontSize = '0.8rem';
            btn.innerText = btnInfo.text;
            btn.onclick = () => {
                btnInfo.action();
                popup.remove();
            };
            footer.appendChild(btn);
        });
    }

    // 7. í™”ë©´ì— ìµœì¢… ì¶”ê°€
    document.body.appendChild(popup);
}


    let plus = "";
    let plus1 = "";
    let plus_ = "";
    let plus1_ = "";
    let player = {
        time: 60*8,
        where: '',
        st : 1,//ì´ê±° ìš”ì¼
        name: "ëª¨í—˜ê°€",
        sleep: 0,
        hp: 100,
        job: "PL",
        items: ["ë‚¡ì€ ì˜·"],

        I: 20,
        T: 20,
        S: 20,
        J: 20,

        power:0,
        speaking: 0,
        steal: 0,

        peopleknow: 50

    };
    let npcs = {
    'ham': { name: "A", luv: 0, stress: 0, je : 0, gen: "ê·¸", met: false, event: 0 },
    'kim': { name: "B", luv: 10, stress: 5, je: 0, gen: "ê·¸",met: false, event: 0 }
};
    let worldState = {
        date: 1,
        month: 3,
        isDoorOpen: false,      // ë¬¸ì´ ì—´ë ¸ëŠ”ê°€?
        isChestEmpty: false,    // ìƒìê°€ ë¹„ì—ˆëŠ”ê°€?
        visitedRooms: [] ,
        shoolBinhere: true,
        changstory: 0      // ë°©ë¬¸í–ˆë˜ ë°© ëª©ë¡
    };


    window.addEventListener('keydown', (event) => {
        const key = event.key;
        
        // 1. ìˆ«ì 0ì„ ëˆ„ë¥´ë©´ ì‚¬ì´ë“œë°”(ìºë¦­í„° ì •ë³´) í† ê¸€
        if (key === '0') {
            toggleSidebar();
            return; // 0ì¼ ë•ŒëŠ” ì•„ë˜ ë²„íŠ¼ í´ë¦­ ë¡œì§ì„ íƒ€ì§€ ì•Šê²Œ ì¢…ë£Œ
        }

        // 2. ìˆ«ì 1~9ëŠ” ì„ íƒì§€ í´ë¦­
        if (key >= '1' && key <= '9') {
            const index = parseInt(key) - 1;
            const buttons = document.querySelectorAll('#buttons .btn');
            
            if (buttons[index]) {
                buttons[index].click();
                
                // ì‹œê°ì  í”¼ë“œë°±
                buttons[index].style.backgroundColor = '#ff4757';
                setTimeout(() => {
                    buttons[index].style.backgroundColor = '';
                }, 100);
            }
        }
    });

    // 2. ì‚¬ì´ë“œë°” ì œì–´ í•¨ìˆ˜
    let sidebarOpen = false;
    function toggleSidebar() {
        if (!sidebarOpen) {
            document.getElementById("mySidebar").style.width = "300px";
            sidebarOpen = true;
        } else {
            document.getElementById("mySidebar").style.width = "0";
            sidebarOpen = false;
        }
    }

    // 3. ìƒíƒœì°½ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function refreshStatus() {
        
        switch (player.st) {
        case 1:
            hello = "ì¼ìš”ì¼";
            break;
        case 2:
            hello = "ì›”ìš”ì¼";
            break;
        case 3:
            hello = "í™”ìš”ì¼";
            break;
        case 4:
            hello = "ìˆ˜ìš”ì¼";
            break;
        case 5:
            hello = "ëª©ìš”ì¼";
            break;
        case 6:
            hello = "ê¸ˆìš”ì¼";
            break;
        default:
            hello = "í† ìš”ì¼";
        }

        if(Math.floor(player.time / 60)>= 24){
            player.time = 0;
            player.st += 1;
        }
        if(player.st >= 8){
            player.st = 1;
        }
        
        const min = String(Math.floor(player.time / 60)).padStart(2, '0');
        const sec = String(player.time % 60).padStart(2, '0');

        document.getElementById('p-time').innerText = `${min}:${sec}, ${hello}`;
        document.getElementById('p-name').innerText = player.name;
        document.getElementById('p-sleep').innerText = player.sleep + " / 100";
        document.getElementById('p-hp').innerText = player.hp + " / 100";
        
        const npcList = document.getElementById('npc-list');
        npcList.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš©ì„ ì‹¹ ì§€ìš°ê³  ìƒˆë¡œ ê·¸ë¦½ë‹ˆë‹¤.

        let metAnyone = false;

        for (let id in npcs) {
            let n = npcs[id];
            
            // ë§Œë‚œ ìºë¦­í„°(metì´ true)ì¸ ê²½ìš°ì—ë§Œ í™”ë©´ì— ê·¸ë¦½ë‹ˆë‹¤.
            if (n.met) {
                metAnyone = true;
                const npcCard = `
                    <div style="background: #333; padding: 10px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid #ff4757;">
                        <div style="font-weight: bold; color: #ff4757; margin-bottom: 5px;">${n.name}</div>
                        <div style="font-size: 0.8rem;">â¤ï¸ í˜¸ê°: ${n.luv} | ğŸ”¥ ìŠ¤íŠ¸ë ˆìŠ¤: ${n.stress}</div>
                        <div style="font-size: 0.8rem;">ğŸ’­ ê°ˆë§: ${n.je}</div>
                    </div>
                `;
                npcList.innerHTML += npcCard;
            }
        }

        if (!metAnyone) {
            npcList.innerHTML = '<p style="color: #888; font-size: 0.9rem;">ì•„ì§ ì•„ë¬´ë„ ë§Œë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>';
        }

        const itemHistory = document.getElementById('p-items');
        itemHistory.innerHTML = player.items.map(item => `<li>${item}</li>`).join('');
    }

    function showTab(tabName) {
    // 1. ëª¨ë“  íƒ­ì˜ ID ë¦¬ìŠ¤íŠ¸ (HTMLì— ì ì€ IDì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨)
    const tabs = ['tab-status', 'tab-npc', 'tab-system'];

    // 2. ì¼ë‹¨ ëª¨ë“  íƒ­ì„ ìˆ¨ê¹ë‹ˆë‹¤.
    tabs.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.style.display = 'none';
        }
    });

    // 3. í´ë¦­í•œ íƒ­ë§Œ ì°¾ì•„ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤.
    const targetId = 'tab-' + tabName;
    const targetElement = document.getElementById(targetId);

    if (targetElement) {
        targetElement.style.display = 'block';
        console.log(targetId + " íƒ­ìœ¼ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤."); // ë””ë²„ê¹…ìš©
    } else {
        console.error("ì˜¤ë¥˜: " + targetId + " ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. HTMLì˜ IDë¥¼ í™•ì¸í•˜ì„¸ìš”.");
    }
}

    function showSaveMenu(page = 1) {
        currentSavePage = page;
        
        // 1. í˜„ì¬ í™”ë©´ì— ì´ë¯¸ ë–  ìˆëŠ” 'ì €ì¥ ê¸°ë¡' íŒì—…ì´ ìˆëŠ”ì§€ í™•ì¸
        let existingPopup = null;
        document.querySelectorAll('.popup-container').forEach(p => {
            if(p.querySelector('.popup-header span').innerText === "ì €ì¥ ê¸°ë¡") {
                existingPopup = p;
            }
        });

        const start = (currentSavePage - 1) * SLOTS_PER_PAGE + 1;
        const end = start + SLOTS_PER_PAGE - 1;
        const maxPage = Math.ceil(TOTAL_SAVE_SLOTS / SLOTS_PER_PAGE);

        // 2. ìŠ¬ë¡¯ HTML ë‚´ìš© ìƒì„± (ì´ ë¡œì§ì€ ë™ì¼)
        let content = `<div class="save-list" style="width:300px;">`;
        for (let i = start; i <= end; i++) {
            const raw = localStorage.getItem(`myAdventureSave_${i}`);
            const data = raw ? JSON.parse(raw) : null;

            if (data) {
                content += `
                    <div class="save-slot has-data">
                        <div class="slot-info">
                            <div class="slot-header">
                                <span class="slot-number" style="color:#ff4757; font-weight:bold;">#${i}</span>
                                <span class="slot-location">${data.sceneTitle}</span>
                                <span class="game-date" style="color:#888; font-size:0.7rem;">(${data.player.month}/${data.player.date})</span>
                            </div>
                            <div class="slot-preview">${data.preview}</div>
                        </div>
                        <div class="slot-btns">
                            <button class="btn-s" style="background:#2e7d32; color:white;" onclick="saveToSlot(${i})">ì €ì¥</button>
                            <button class="btn-s" style="background:#1565c0; color:white;" onclick="loadFromSlot(${i})">ë¡œë“œ</button>
                            <button class="btn-s" style="background:#444; color:#aaa;" onclick="if(confirm('ì‚­ì œí• ê¹Œìš”?')){localStorage.removeItem('myAdventureSave_${i}'); showSaveMenu(currentSavePage);}">Ã—</button>
                        </div>
                    </div>`;
            } else {
                content += `
                    <div class="save-slot empty">
                        <div class="slot-info" style="color:#555; font-size:0.8rem;">SLOT ${i} - ë¹„ì–´ ìˆìŒ</div>
                        <button class="btn-s" onclick="saveToSlot(${i})">ì €ì¥</button>
                    </div>`;
            }
        }
        content += `
            <div class="pagination" style="display:flex; justify-content:center; align-items:center; gap:15px; margin-top:10px;">
                <button class="btn" onclick="showSaveMenu(${currentSavePage - 1})" ${currentSavePage === 1 ? 'disabled' : ''}>â—€</button>
                <span style="color:#fff; font-size:0.9rem;">${currentSavePage} / ${maxPage}</span>
                <button class="btn" onclick="showSaveMenu(${currentSavePage + 1})" ${currentSavePage === maxPage ? 'disabled' : ''}>â–¶</button>
            </div>
        </div>`;

        // 3. í•µì‹¬ ë¡œì§: íŒì—…ì´ ì´ë¯¸ ìˆìœ¼ë©´ ë‚´ìš©ë§Œ ë°”ê¾¸ê³ , ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ê¸°
        if (existingPopup) {
            // ê¸°ì¡´ íŒì—…ì˜ ë‚´ìš©(body)ë§Œ ì™ êµì²´í•©ë‹ˆë‹¤.
            existingPopup.querySelector('.popup-body').innerHTML = content;
        } else {
            // íŒì—…ì´ ì—†ì„ ë•Œë§Œ ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.
            createPopup("ì €ì¥ ê¸°ë¡", content);
        }
    }

    // ì „ì—­ ë³€ìˆ˜ ì„¤ì • (ê¸°ì¡´ ìœ„ì¹˜ì— ë‘ì„¸ìš”)
    let currentSavePage = 1;
    const SLOTS_PER_PAGE = 5;
    const TOTAL_SAVE_SLOTS = 15; // ì „ì²´ ìŠ¬ë¡¯ ê°œìˆ˜

    // [ìˆ˜ì •] ìŠ¬ë¡¯ ì €ì¥ í•¨ìˆ˜
    function saveToSlot(slotIndex) {
        const textElement = document.getElementById('text');
        const preview = textElement ? textElement.innerText.substring(0, 20) + "..." : "ë‚´ìš© ì—†ìŒ";
        
        // scenes[player.where]ê°€ ìˆëŠ”ì§€ ì•ˆì „í•˜ê²Œ í™•ì¸
        console.log("dmd?"+String(player.where))
        const currentScene = scenes[player.where];
        const sceneTitle = currentScene ? (currentScene.title || "ì•Œ ìˆ˜ ì—†ëŠ” ì¥ì†Œ") : "ì¥ì†Œ ë¶ˆëª…";
        
        const gameData = {
            player: player,
            worldState: worldState,
            npcs: npcs,
            plus_1: plus_,
            plus1_1: plus1_,
            // ìŠ¬ë¡¯ í‘œì‹œìš© ë©”íƒ€ ë°ì´í„°
            saveTime: new Date().toLocaleString(),
            sceneTitle: sceneTitle,
            preview: preview
        };
        
        plus_ = "";
        plus1_ = "";


        localStorage.setItem(`myAdventureSave_${slotIndex}`, JSON.stringify(gameData));
        console.log(`${slotIndex}ë²ˆ ìŠ¬ë¡¯ì— ì €ì¥ ì™„ë£Œ`);
        showSaveMenu(currentSavePage); // ì €ì¥ í›„ ëª©ë¡ ê°±ì‹ 
    }

    // [ìˆ˜ì •] ìŠ¬ë¡¯ ë¶ˆëŸ¬ì˜¤ê¸° í•¨ìˆ˜
    function loadFromSlot(slotIndex) {
        const rawData = localStorage.getItem(`myAdventureSave_${slotIndex}`);
        if (!rawData) return;

        const data = JSON.parse(rawData);
        
        // ë°ì´í„° ë³µêµ¬
        player = data.player;
        worldState = data.worldState;
        npcs = data.npcs;
        plus = data.plus_1 || "";
        plus1 = data.plus1_1 || "";

        refreshStatus();
        updateScene(player.where); // ì €ì¥ëœ ìœ„ì¹˜ë¡œ ì´ë™
        
        // ëª¨ë“  íŒì—… ë‹«ê¸°
        document.querySelectorAll('.popup-container').forEach(p => p.remove());
        console.log(`${slotIndex}ë²ˆ ìŠ¬ë¡¯ ë¡œë“œ ì™„ë£Œ`);
    }

    function updateScene(sceneKey) {
        const scene = scenes[sceneKey];
        if (scene.onEnter) scene.onEnter();

        document.getElementById('text').innerHTML = (typeof scene.text === 'function') ? scene.text() : scene.text;
        
        plus_ = plus;
        plus1_ = plus1;
        plus1 = "";
        plus = "";
        
        const buttonContainer = document.getElementById('buttons');
        buttonContainer.innerHTML = '';

        const choicesArray = (typeof scene.choices === 'function') ? scene.choices() : scene.choices;

        choicesArray.forEach((choice, index) => {
            const button = document.createElement('button');
            
            // [ìˆ˜ì • í¬ì¸íŠ¸] choice.textê°€ í•¨ìˆ˜ë¼ë©´ ì‹¤í–‰í•˜ê³ , ì•„ë‹ˆë©´ ê·¸ëƒ¥ ê°€ì ¸ì˜µë‹ˆë‹¤.
            const buttonText = (typeof choice.text === 'function') ? choice.text() : choice.text;
            
            button.innerHTML = `[${index + 1}] ` + buttonText;
            button.classList.add('btn');

            button.onclick = () => {
                if (choice.action) {
                    choice.action();
                }
                const nextScene = (typeof choice.next === 'function') ? choice.next() : choice.next;
                player.where = String(nextScene);
                //console.log("dpdg"+player.where)
                updateScene(nextScene);
            };

            buttonContainer.appendChild(button);
        });
    }


        
    let goto = "";


    // 4. ê²Œì„ ì¥ë©´ ë°ì´í„°
    const scenes = {
        'bed' :{
            text: () => plus1+"ì ì„ ì²­í•˜ê² ìŠµë‹ˆê¹Œ?\n"+plus,
            //onEnter: () => { player.hp -= 10; refreshStatus(); }, // ì´ë²¤íŠ¸: ì²´ë ¥ ê°ì†Œ
            choices: [
                { text: "1ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ-)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 60; 
                player.sleep -= 10; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "2ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ-)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 120; 
                player.sleep -= 20; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "3ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ-)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 180; 
                player.sleep -= 30; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "4ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ--)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 240; 
                player.sleep -= 40; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "5ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ--)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 300; 
                player.sleep -= 50; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "6ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ--)</span>", next: () => 'bed', 
                action: () => { 
                player.time +=360; 
                player.sleep -= 60; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "7ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ--)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 420; 
                player.sleep -= 70; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "8ì‹œê°„ì„ ì”ë‹¤. <span style='color: #22E105; font-weight: bold;'>(í”¼ë¡œ--)</span>", next: () => 'bed', 
                action: () => { 
                player.time += 480; 
                player.sleep -= 80; 
                plus1 = "ë‹¹ì‹ ì€ ì ì„ ì²­í•˜ê³  ì¼ì–´ë‚œë‹¤.\n\n";
                refreshStatus(); 
            } },
                { text: "ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°„ë‹¤.", next: () => 'room',
                    action: () => { 
                        plus1 = "ë‹¹ì‹ ì€ ì¹¨ëŒ€ì—ì„œ ë‚˜ì˜¨ë‹¤.\n\n";
                    }
                 }
            ]
        },
        'room': {
            text: () =>  plus1+"ë‹¹ì‹ ì€ ì¹¨ëŒ€ì—ì„œ ë‚˜ì™”ë‹¤.\n"+plus,
            onEnter: () => { player.hp -= 10; refreshStatus(); }, // ì´ë²¤íŠ¸: ì²´ë ¥ ê°ì†Œ
            choices: [
                { text: "ì¹¨ëŒ€ë¡œ ê°„ë‹¤.", next: () => 'bed' },
                { text: "ë°–ìœ¼ë¡œ ë‚˜ê°„ë‹¤.", next: () => 'room-outside' }
            ]
        },
        'room-outside': {
            text: () =>  plus1+"ë°–ì´ë‹¤..\n"+plus,
            onEnter: () => { 
                //if(!player.items.includes("ì‹ ë¹„í•œ ë³´ì„")) player.items.push("ì‹ ë¹„í•œ ë³´ì„");
                refreshStatus(); 
            },
            choices: [{ text: "í•™êµë¡œ ê°„ë‹¤.", next: () => 'school' },
                { text: "ë‹¤ì‹œ ë°© ì•ˆìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤..", next: () => 'room' }
            ]
        },
        'school':{
            text: () =>  {
                const texttt = [""];
                if (720>=player.time>= 480){
                    texxt = ["í•™ìƒë“¤ì´ ì‹œë„ëŸ½ê²Œ ë¶ì ë¶ì ê±°ë¦°ë‹¤. ","ì•„ë‹ˆ ìƒ¹ ì´ë”œë‹¨ ì¢ƒì¡°ìƒˆë””"];
                }
                return plus1+"ë‹¹ì‹ ì€ í•™êµ ì¤‘ì•™ ë³µë„ì— ì„œìˆë‹¤.\n\n"+ getRandomText(texttt)+"\n\n"+plus},
            
            title: "í•™êµ",
            onEnter: () => { 
                //npcs['kim'].met = true; // ì´ì œ ì •ë³´ì°½ì— ë‚˜íƒ€ë‚¨!
                //if(!player.items.includes("ì‹ ë¹„í•œ ë³´ì„")) player.items.push("ì‹ ë¹„í•œ ë³´ì„");
                schoolfirst();
                refreshStatus(); 
            },
            choices: ()=>{ 
                if (npcs['kim'].met ==true){
                    if(worldState.shoolBinhere==true){
                    return[
                        { text: "êµì‹¤ë¡œ ë“¤ì–´ê°„ë‹¤(0:01)",
                        action: () => { 
                            player.time += 1; 
                            plus1 = "í•™êµì—ì„œ êµì‹¤ë¡œ ë“¤ì–´ê°„ë‹¤.\n\n";
                            refreshStatus(); 
                        },
                        next: () => 'schoolroom' },
                        { text: "Bì—ê²Œ ë‹¤ê°€ê°„ë‹¤(0:01)",
                        action: () => { 
                            player.time += 1; 
                            plus1 = "í•™êµì—ì„œ êµì‹¤ë¡œ ë“¤ì–´ê°„ë‹¤.\n\n";
                            refreshStatus(); 
                        },
                        next: () => 'kimscmeet' },
                        { text: "ì–´ìŠ¬ë  ê±°ë¦°ë‹¤(0:10)", 
                        action: () => { 
                            player.time += 10; 
                            plus1 = "ë‹¹ì‹ ì€ ì–´ìŠ¬ë  ê±°ë¦°ë‹¤.\n\n";
                            schoolawaing();
                            refreshStatus(); 
                        },
                        next: () => 'school' },
                        
                        { text: "ì§‘ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤(0:05)", 
                        action: () => { 
                            player.time += 5; 
                            plus1 = "í•™êµì—ì„œ ì§‘ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤.\n\n";
                            refreshStatus(); 
                        },
                        next: () => 'room-outside' }
                    ]
                    }
                }
                
                return[
                { text: "êµì‹¤ë¡œ ë“¤ì–´ê°„ë‹¤(0:01)",
                action: () => { 
                    player.time += 1; 
                    plus1 = "í•™êµì—ì„œ êµì‹¤ë¡œ ë“¤ì–´ê°„ë‹¤.\n\n";
                    refreshStatus(); 
                },
                next: () => 'schoolroom' },
                { text: "ì–´ìŠ¬ë  ê±°ë¦°ë‹¤(0:10)", 
                action: () => { 
                    player.time += 10; 
                    plus1 = "ë‹¹ì‹ ì€ ì–´ìŠ¬ë  ê±°ë¦°ë‹¤.\n\n";
                    schoolawaing();
                    refreshStatus(); 
                },
                next: () => 'school' },
                
                { text: "ì§‘ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤(0:05)", 
                action: () => { 
                    player.time += 5; 
                    plus1 = "í•™êµì—ì„œ ì§‘ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤.\n\n";
                    refreshStatus(); 
                },
                next: () => 'room-outside' }
            ]}
        },
        'schoolroom': {
            text: () =>  plus1+"êµì‹¤ ì•ˆì´ë‹¤.\n"+plus,
            title: "êµì‹¤ ì•ˆ",
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                
                { text: "Aì—ê²Œ ë‹¤ê°€ê°„ë‹¤.(0:01)",
                    action: () => { 
                        player.time += 1;
                        plus1 = "ë‹¹ì‹ ì€ ë³´ì´ëŠ” ì‚¬ëŒì—ê²Œ ë‹¤ê°€ê°„ë‹¤.\n\n"
                        hamseatevent();
                        refreshStatus(); 
                    },
                next: () => goto },
                { text: "ì‚¬ë¬¼í•¨ì„ ì‚´í´ë³¸ë‹¤.(0:01)",
                    action: () => { 
                        player.time += 1;
                        plus1 = "ì‚¬ë¬¼í•¨ì€ í…… ë¹„ì–´ìˆë‹¤.\n\n"
                        refreshStatus(); 
                    },
                next: () => 'schoolroom' },{ text: "êµì‹¤ì„ ë‚˜ì„ ë‹¤.(0:01)",
                action: () => { 
                    player.time += 1;
                    refreshStatus(); 
                },
                next: () => 'school' },

            ]
        },
        'hamseetmeet': {
            text: () => { 
                
                return plus1+npcs['ham'].gen+"ëŠ” ë‹¤ë¦¬ë¥¼ í”ë“¤ë©° í°ì„ ë³´ê³  ìˆë‹¤.\n"+plus
            },
            title: "Aì˜ ì˜†ìë¦¬",
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: "Aì—ê²Œ ë§ì„ ê±´ë‹¤.(0:10)",
                    action: () => { 
                        player.time += 10;
                        goto = 'hamseetmeet';
                        hamseatevent();

                        refreshStatus(); 
                    },
                next: () => goto },
                {text: "êµì‹¤ë¡œ ëŒì•„ê°€ë‹¤.(0:01)",
                action: () => { 
                    player.time += 1;
                    refreshStatus(); 
                },
                next: () => 'schoolroom' },
                

            ]
        },
        'hamevent1': {
            text: () =>  plus1+npcs['ham'].gen+"ëŠ” íœ´ëŒ€í°ì„ ë“¤ê³  ê¹Œë”±ê¹Œë”± ë‹¤ë¦¬ë¥¼ í”ë“¤ë©´ì„œ íœ´ëŒ€í°ì„ ë³´ê³  ìˆë‹¤. ë‹¹ì‹ ì´ ê±¸ì–´ì™€ Aì˜ ìë¦¬ ì˜†ì— ì•‰ì "+npcs['ham'].gen+"ëŠ” ë†€ë¼ ìê¸°ê°€ ì•‰ì•„ìˆë˜ ì˜ìë¥¼ ì­ˆìš± ëŠ˜ì–´ëœ¨ë¦°ë‹¤.\n\n"+
            "\"PL!\"\n"+"ë°©ê³¼í›„ì— ì°¾ì•„ê°€ë ¤ê³  í–ˆëŠ”ë°. "+plus1+npcs['ham'].gen+"ëŠ” ê·¸ë ‡ê²Œ ë§í•˜ë©° ìì‹ ì˜ ë’·ëª©ì„ ë§Œì§„ë‹¤."+plus,
            title: "Aì™€ì˜ ì¡°ìš°",
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: "ë­˜ë¡œ ë³´ìƒí•´ì¤„ê±´ë°?",
                    action: () => { 
                        npcs['ham'].luv += 1;
                        goto = 'hamevent2';
                        refreshStatus(); 
                    },
                next: () => goto },
                { text: "ê´œì°®ì•„.",
                    action: () => { 
                        goto = 'hamevent3';
                        refreshStatus(); 
                    },
                next: () => goto }
                

            ]
        },
        'hamevent2': {
            text: () =>  plus1+npcs['ham'].gen+"ëŠ” ë‘ ëˆˆì´ ë™ê·¸ë—ê²Œ ë– ì§€ë©° í‚¥í‚¥ ëŒ„ë‹¤.<span style='color: #22E105; font-weight: bold;'>(ì• ì •+)</span>\n\n"+
            "\"ì•„~ ë­ ë°›ê³  ì‹¶ì€ê²Œ ìˆëŠ”ê±°ì•¼? ì¢‹ì•„, ê·¸ëŸ¼ ì´ê±°ë©´ ëì–´?\"\n"+""+plus1+npcs['ham'].gen+"ëŠ” ì›ƒìœ¼ë©´ì„œ ìì‹ ì´ ë‹¬ê³ ìˆë˜ í•¸ë“œí° í‚¤ë§ì„ í•˜ë‚˜ ê±´ë‚¸ë‹¤. ê·¸ê²ƒì€ í”ë“¤ë¦´ ë•Œë§ˆë‹¤ ì°½ë¬¸ì˜ ë¹›ì„ ë¨¸ê¸ˆê³  ë¹›ë‚œë‹¤.\në‹¹ì‹ ì€ ê·¸ê²ƒì„ ë°›ê³  ë°”ë¼ë³¸ë‹¤. AëŠ” ê·¸ëŸ° ë‹¹ì‹ ì„ ë³´ë©° ë§¤ìš° í¡ì¡±í•˜ë“¯ ì›ƒëŠ”ë‹¤. ê·¸ì—ê² ìì‹  ìˆëŠ” ë¬¼ê±´ì¸ ë“¯í•˜ë‹¤."+plus,
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: "ê³ ë§ˆì›Œ.",
                    action: () => { 
                        goto = 'hamseetmeet';
                        npcs['ham'].luv += 1;
                        plus1 += "\"ê³ ë§™ê¸´ ë­˜\"\n"+npcs['ham'].gen+"ëŠ” ì›ƒìœ¼ë©´ì„œ í‚¤ë§ì„ ê±´ë‚¸ í›„ ìì‹  íœ´ëŒ€í°ì„ ì‚´í´ë³¸ë‹¤.<span style='color: #22E105; font-weight: bold;'>(ì• ì •+)</span>\n\n";
                        refreshStatus(); 
                    },
                next: () => goto },
                { text: "í•„ìš” ì—†ì–´.",
                    action: () => { 
                        goto = 'hamseetmeet';
                        npcs['ham'].luv -= 1;
                        plus1 += "\"ì•„, í•„ìš” ì—†ì–´?\"\n"+npcs['ham'].gen+"ëŠ” ì•„ì‰½ë‹¤ëŠ” ë“¯ì´ ë§í•œ ë’¤ í‚¤ë§ì„ ì œ íœ´ëŒ€í°ì— ë‹¨ë‹¤, ê·¸ë¦¬ê³  ê³ ê°œë¥¼ ëŒë ¤ íœ´ëŒ€í°ì„ ì‚´í´ë³¸ë‹¤.<span style='color: #ff4757; font-weight: bold;'>(ì• ì •-)</span>\n\n";
                        refreshStatus(); 
                    },
                next: () => goto }
                

            ]
        },
        'hamevent3': {
            text: () =>  plus1+npcs['ham'].gen+"ëŠ” ì ì‹œ ë‹¹ì‹ ì„ ë°”ë¼ë³´ë‹¤ ì›ƒëŠ”ë‹¤.\n\n"+
            "\"ê·¸ëŸ¬ì§€ë§ê³  ì´ê±´ ì–´ë•Œ?\"\n"+""+plus1+npcs['ham'].gen+"ëŠ” ì›ƒìœ¼ë©´ì„œ ìì‹ ì´ ë‹¬ê³ ìˆë˜ í•¸ë“œí° í‚¤ë§ì„ í•˜ë‚˜ ê±´ë‚¸ë‹¤. ê·¸ê²ƒì€ í”ë“¤ë¦´ ë•Œë§ˆë‹¤ ì°½ë¬¸ì˜ ë¹›ì„ ë¨¸ê¸ˆê³  ë¹›ë‚œë‹¤.\në‹¹ì‹ ì€ ê·¸ê²ƒì„ ë°›ê³  ë°”ë¼ë³¸ë‹¤. AëŠ” ê·¸ëŸ° ë‹¹ì‹ ì„ ë³´ë©° ë§¤ìš° í¡ì¡±í•˜ë“¯ ì›ƒëŠ”ë‹¤. ê·¸ì—ê² ìì‹  ìˆëŠ” ë¬¼ê±´ì¸ ë“¯í•˜ë‹¤."+plus,
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: "ê³ ë§ˆì›Œ.",
                    action: () => { 
                        goto = 'hamseetmeet';
                        npcs['ham'].luv += 1;
                        plus1 += "\"ê³ ë§™ê¸´ ë­˜\"\n"+npcs['ham'].gen+"ëŠ” ì›ƒìœ¼ë©´ì„œ í‚¤ë§ì„ ê±´ë‚¸ í›„ ìì‹  íœ´ëŒ€í°ì„ ì‚´í´ë³¸ë‹¤.<span style='color: #22E105; font-weight: bold;'>(ì• ì •+)</span>\n\n";
                        refreshStatus(); 
                    },
                next: () => goto },
                { text: "í•„ìš” ì—†ì–´.",
                    action: () => { 
                        goto = 'hamseetmeet';
                        npcs['ham'].luv -= 1;
                        plus1 += "\"ì•„, í•„ìš” ì—†ì–´?\"\n"+npcs['ham'].gen+"ëŠ” ì•„ì‰½ë‹¤ëŠ” ë“¯ì´ ë§í•œ ë’¤ í‚¤ë§ì„ ì œ íœ´ëŒ€í°ì— ë‹¨ë‹¤, ê·¸ë¦¬ê³  ê³ ê°œë¥¼ ëŒë ¤ íœ´ëŒ€í°ì„ ì‚´í´ë³¸ë‹¤.<span style='color: #ff4757; font-weight: bold;'>(ì• ì •-)</span>\n\n";
                        refreshStatus(); 
                    },
                next: () => goto }
                

            ]
        },

        
        
        'kimscmeet': {
            text: () =>  plus1+"BëŠ” ê·¸ì € íŒ”ì§±ì„ ë‚€ ì±„ë¡œ ê³„ë‹¨ì´ ìˆëŠ” ë¹„ìƒêµ¬ì— ê¸°ëŒ€ê³  ìˆë‹¤."+plus,
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: "Bì—ê²Œ ë§ì„ ê±´ë‹¤.(0:10)",
                    action: () => { 
                        player.time += 10;
                        goto = 'hamseetmeet';
                        kimscevent();

                        refreshStatus(); 
                    },
                next: () => goto },
                {text: "ë³µë„ë¡œ ëŒì•„ê°€ë‹¤.(0:01)",
                action: () => { 
                    player.time += 1;
                    refreshStatus(); 
                },
                next: () => 'school' },
                

            ]
        },

        'kimevent1': {
            text: () =>  plus1+"ë‹¹ì‹ ì€ Bì—ê²Œ ë‹¤ê°€ê°€ë©° ë§í•œë‹¤.\n\n\"í•  ë§ ìˆì§€ ì•Šì•„?\"\n\n"+npcs['kim'].gen+"ëŠ” ê·¸ëŸ° ë‹¹ì‹ ì„ ì ì‹œ ë°”ë¼ë³´ë‹¤ ë¶ˆë§Œì„ ê°€ì§„ í‘œì •ìœ¼ë¡œ í„±ì„ ê¹Œë”± ê±°ë¦°ë‹¤."+plus,
            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: "ì‚¬ê³¼í•˜ë¼ê³  ë§í•œë‹¤.",
                    action: () => { 
                        goto = 'kimevent2';
                        refreshStatus(); 
                    },
                next: () => goto },

                {text: "í™”ë‚¸ë‹¤.",
                    action: () => { 
                        worldState.changstory = 1;
                        goto = 'kimevent2';
                        refreshStatus(); 
                    },
                next: () => goto },


                {text: "ì¹¨ë¬µí•œë‹¤.",
                action: () => { 
                    plus1 = npcs['kim'].gen+"ëŠ” ì¬ë¯¸ì—†ë‹¤ëŠ” ë“¯ ëˆˆìœ¼ë¡œ ë‚´ë ¤ë‹¤ë³´ë”ë‹ˆ, ë¹„ì›ƒëŠ”ë‹¤. BëŠ” ê·¸ëŸ° ë‹¹ì‹ ì˜ ì–´ê¹¨ë¥¼ ì¥ì–´ì¡ê³  ê°•í•˜ê²Œ ë°€ì³ë‚¸ë‹¤.\n<span style='color: #22E105; font-weight: bold;'>ë‹¹ì‹ ì€ ë„˜ì–´ì§€ê³ , Bë¥¼ ì˜¬ë ¤ë‹¤ë³¸ë‹¤.</span>\n\nBëŠ” ì›ƒìŒì„ ë©ˆì¶”ê³  ë°œë¡œ ë‹¹ì‹ ì„ í›… ë¯¼ë‹¤ìŒ, ê³„ë‹¨ ì•„ë˜ë¡œ ë‚´ë ¤ê°„ë‹¤.\n"
                    +npcs['kim'].gen+"ëŠ” ë” ì´ìƒ ë³µë„ì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.",
                    player.time += 1;
                    worldState.shoolBinhere = false;
                    refreshStatus(); 
                },
                next: () => 'school' }
                

            ]
        },'kimevent2': {
            text: () => {
                if (worldState.changstory == 1)
            {
                worldState.changstory = 0;
                return  plus1+"\"ê¸°ë¶„ ë‚˜ì˜ê²Œ ëª¸ìœ¼ë¡œë§Œ ë§ í•˜ì§€ë§ˆ! ë‹¹í™©ìŠ¤ëŸ¬ì› ë‹¤ê³ !\"\n<span style='color: #FF7912; font-weight: bold;'>ë‹¹ì‹ ì€ ì™ ì§€ ë‹¹ëŒí•´ì§„ ê¸°ë¶„ì´ ë“ ë‹¤.</span>\n\n"+npcs['kim'].gen+"ëŠ” ì ì‹œ ë‹¹ì‹ ì„ ë‚´ë ¤ë‹¤ë³´ë‹¤ê°€ í—›ì›ƒìŒì„ ì§“ëŠ”ë‹¤. ê·¸ë¦¬ê³¤ ìœ„í˜‘ì ìœ¼ë¡œ ë‹¹ì‹  ì•ì— ì„ ë‹¤.\n\n"+"\"ê·¸ê±¸ í™”ë¼ê³  ë‚´ëŠ”ê±°ëƒ?\"\n\n"+npcs['kim'].gen+"ëŠ” ì „ê³¼ ê°™ì´ ë‹¹ì‹ ì„ ì¡ëŠ”ë‹¤."
                +plus }
                else{}
                worldState.changstory = 0;
                return plus1+"\"ì‚¬ê³¼í•´.\"\n<span style='color: #FF7912; font-weight: bold;'>ë‹¹ì‹ ì€ ì™ ì§€ ë‹¹ëŒí•´ì§„ ê¸°ë¶„ì´ ë“ ë‹¤.</span>\n\n"+npcs['kim'].gen+"ëŠ” ì ì‹œ ë‹¹ì‹ ì„ ë‚´ë ¤ë‹¤ë³´ë‹¤ê°€ í—›ì›ƒìŒì„ ì§“ëŠ”ë‹¤. ê·¸ë¦¬ê³¤ ìœ„í˜‘ì ìœ¼ë¡œ ë‹¹ì‹  ì•ì— ì„ ë‹¤.\n\n"+"\"ë˜ ë‚ ì•„ê°€ê³  ì‹¶ë‹¤ê³  ëŒë ¤ ë§í•˜ì§€ë§ˆ.\"\n\n"+npcs['kim'].gen+"ëŠ” ì „ê³¼ ê°™ì´ ë‹¹ì‹ ì„ ì¡ëŠ”ë‹¤."
                +plus;
            },
            onEnter: () => { 
                
                refreshStatus(); 
            },
            choices: [
                { text: () => {  
                    let heoo = ""; // const ëŒ€ì‹  letì„ ì¨ì•¼ ê°’ì´ ë°”ë€ë‹ˆë‹¤!
                    if(player.power <= 70) { 
                        heoo = "<span style='color: #ff4757; font-weight: bold;'>(ë‹¹ì‹ ì—ê²Œ ë§¤ìš° ë¶ˆë¦¬í•˜ë‹¤.)</span>";
                    }
                    else{
                        heoo = "";
                    }
                    
                    // heoo ë³€ìˆ˜ë¥¼ ë¦¬í„´ì— í¬í•¨ì‹œì¼œì•¼ í™”ë©´ì— ë‚˜ì˜¤ê² ì£ ?
                    return "ì‹¸ìš´ë‹¤." + heoo;
                },
                    action: () => { 
                        goto = 'kimevent3';

                        refreshStatus(); 
                    },
                next: () => goto },
                {text: "ëª¸ë¶€ë¦¼ ì¹œë‹¤.",
                action: () => { 
                    plus1 = npcs['kim'].gen+"ì€ ëª¸ë¶€ë¦¼ì¹˜ëŠ” ë‹¹ì‹ ì„ ë³´ë©° ì‹¤ì‹¤ ì›ƒê¸° ì‹œì‘í•œë‹¤.<span style='color: #22E105; font-weight: bold;'>(ì• ì •+)</span>\n\n\"ë°œë²„ë‘¥ì¹˜ëŠ”ê²Œ ê¼´ ë³´ê¸° ì¢‹ê¸´í•˜ë„¤.\"\n\në‹¹ì‹ ì€ ê·¸ëŸ° Bì˜ ëª¨ìŠµì„ ë³´ê³  ë‹¹í™©í•˜ë‹¤ ì˜¨ ëª¸ì„ ë²½ì— ë¶€ë”ªíŒë‹¤. ê·¸ëŸ¬ì ìš°ë‹¹íƒ• ì†Œë¦¬ì™€ í•¨ê»˜ Bì™€ ê°™ì´ ë„˜ì–´ì§‘ë‹ˆë‹¤. ê·¸ ì†Œë¦¬ì— ì„ ìƒë‹˜ë“¤ì´ ë‚˜ì˜¤ë©°, "+npcs['kim'].gen+"ëŠ” ë‹¹ì‹ ì„ ë°”ë‹¥ì— ë˜ì§€ê³  ê³„ë‹¨ ì•„ë˜ë¡œ ë‚´ë ¤ê°„ë‹¤.\n\n"+npcs['kim'].gen+"ëŠ” ë” ì´ìƒ ë³µë„ì— ë³´ì´ì§€ ì•Šìœ¼ë©° ë‹¹ì‹ ì€ ëª¸ì„ í„¸ê³  ì¼ì–´ë‚œë‹¤.";
                    worldState.shoolBinhere = false;
                    refreshStatus(); 
                },
                next: () => 'school' }
                

            ]
        }
        ,
        
        'kimevent3': {
            text: () => { 
                return plus1+npcs['kim'].gen+"ëŠ” ë¹„ì›ƒìœ¼ë©° ë‹¹ì‹ ì„ ë‚´ë ¤ ê½‚ì€ ë’¤ ë‹¹ì‹ ì˜ ë³µë¶€ë¥¼ ê±°ì„ê²Œ ê±·ì–´ì°¹ë‹ˆë‹¤.\n<span style='color: #22E105; font-weight: bold;'>ë‹¹ì‹ ì€ ì‹¸ì›€ì—ì„œ ë°€ë ¸ë‹¤...</span>\n\n\"ë˜ì§€ë„ ì•Šì„ ì‹¸ì›€ì„ ì™œ ê±¸ê³  ì§€ë„ì´ì•¼!\"\n\n"+npcs['kim'].gen+"ì˜ í™”ê°€ ë‚œ ëª©ì†Œë¦¬ê°€ ë³µë„ë¥¼ ìš¸ë¦°ë‹¤. ê·¸ëŸ¬ì ì„ ìƒë‹˜ì´ êµë¬´ì‹¤ì—ì„œ ë‚˜ì˜¤ë©° BëŠ” í˜€ë¥¼ ì¯§ ì± ê³  ë‹¹ì‹ ì„ ë²„ë¦¬ê³  ë‚˜ê°„ë‹¤."+plus},

            onEnter: () => { 
                refreshStatus(); 
            },
            choices: [
                { text: () => {  
                    return "ëŒì•„ê°„ë‹¤.";
                },
                    action: () => { 
                        plus1 = "ë‹¹ì‹ ì€ ì•„í”ˆ ëª¸ì„ ì´ëŒê³  ë³µë„ë¡œ ëŒì•„ê°„ë‹¤... ë‹¤ë“¤ ìˆ˜êµ°ìˆ˜êµ°ê±°ë¦¬ë©° ë‹¹ì‹ ì„ ë°”ë¼ë³¸ë‹¤.<span style='color: #ff4757; font-weight: bold;'>(í•™ìƒí˜¸ê°ë„-)</span>\në‹¹ì‹ ì„ ë•Œë ¤ ëˆ•í˜”ë˜ ê·¸ ë†ˆì€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.\n\n";
                        player.peopleknow-=2;
                        goto = 'school';
                        refreshStatus(); 
                    },
                next: () => goto }
        
            ]
        },



        'monster': {
            text: () =>  "ê±°ëŒ€í•œ êµ¶ì£¼ë¦° ê´´ë¬¼ê³¼ ë§ˆì£¼ì³¤ìŠµë‹ˆë‹¤! \nê´´ë¬¼ì´ ë‹¹ì‹ ì˜ íŒ”ì„ í• í€´ì—ˆìŠµë‹ˆë‹¤!",
            onEnter: () => { 
                //if(!player.items.includes("ì‹ ë¹„í•œ ë³´ì„")) player.items.push("ì‹ ë¹„í•œ ë³´ì„");
                player.hp -= 50;player.time += 30 ; player.st += 1 ; refreshStatus(); },
            choice: () => {
                
                return[{ text: "ìœ¼ì•…! ë„ë§ì¹œë‹¤", next: () => 'start' }]
            }
        }
    };


    function schoolfirst(){
        if(npcs['ham'].met == false){
            npcs['ham'].met = true;
            plus1 += "\n\nëˆ„êµ°ê°€ ë‹¹ì‹ ì—ê²Œ ë‹¤ê°€ì™€ ë¶€ë”ªíŒë‹¤.\n\n\"ì•„ì•¼ì•¼... ì•„ìœ½ ,ë¯¸ì•ˆí•´.\"\n"+npcs['ham'].gen+"ëŠ” ë„˜ì–´ì§„ ì—‰ë©ì´ë¥¼ í„¸ì–´ë‚´ë©° ì¼ì–´ë‚œë‹¤. "+npcs['ham'].gen+"ëŠ” ë‹¹ì‹ ì˜ ì–¼êµ´ì„ ë°”ë¼ë³´ë‹¤ ì´ ë¹šì€ ê¸°ì–µí•˜ê³  ìˆê² ìœ¼ë‹ˆ ë¯¸ì•ˆí•˜ë‹¤ë¼ëŠ” ë§ì„ í•œ ë’¤ ë‹¤ì‹œ ì•ìœ¼ë¡œ ë›°ì–´ê°„ë‹¤. ë°”ìœ ì¼ì´ ìˆì—ˆë˜ ê±¸ê¹Œ."+
            "\n\n<span style='color: #22E105; font-weight: bold;'>ë‹¹ì‹ ì˜ ê´€ê³„ë„ ë€ì— Aê°€ ì¶”ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ì™€ êµë¥˜ë¥¼ í†µí•´ í˜¸ê°ë„ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ íŠ¹ì • ì´ë²¤íŠ¸ë¡œ í˜¸ê°ë„ê°€ ë‚®ì¶° ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</span>\n"
        }
    
    }

    function schoolawaing(){
        if(npcs['kim'].met == false){
            npcs['kim'].met = true;
            plus1 += "ë‹¹ì‹ ì€ ì–´ìŠ¬ë  ê±°ë¦¬ë‹¤ í•œ ìª½ì—ì„œ ì‹¸ì›€ì´ ë¶™ì€ ìƒí™©ì„ ë³¸ë‹¤. ë‹¹ì‹ ì€ ì†ŒìŒì˜ ì›ì¸ ê³³ì„ ì°¾ì•„, ì¸íŒŒë¥¼ ëš«ìœ¼ë©´ ì†Œë¦¬ì˜ ê·¼ì›ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤.<span style='color: #22E105; font-weight: bold;'>ì…”ì¸  ìœ„ì— ê²€ì€ ì§‘ì—…í›„ë“œë¥¼ ë‚€ ê·¸ëŠ” ëŒ€ìƒì„ í™”ë‚œ ëˆˆìœ¼ë¡œ ë…¸ë ¤ ë³´ê³ ìˆë‹¤.</span>\n\n\"ì”¨ë°œë†ˆì´. ìê¸°ê°€ ì³ ì•ˆ ë¹„í‚¤ë‹¤ê°€ ê¸ì—ˆì–ì•„.\"\n\n"+npcs['kim'].gen+"ëŠ” ì•ì— ìˆëŠ” ë‚¨ìì˜ ë©±ì„ í•œ ì†ìœ¼ë¡œ ì¡ê³  ë§í•œë‹¤. ë©±ì´ ì¡íŒ ë‚¨ìëŠ” ë‘ ì†ì„ ë“¤ê³  ìê¸°ëŠ” ê·¸ëŸ° ì ì´ ì—†ë‹¤ë©° ì†ì‚¬ë˜ë¥¼ ì¹œë‹¤. "+npcs['kim'].gen+"ëŠ” ì½”ì›ƒìŒì„ ì¹˜ë”ë‹ˆ êµ°ì¤‘ ìª½ìœ¼ë¡œ ì†ì„ ë»—ëŠ”ë‹¤.\b"+
            "ì• ì„í•˜ê²Œë„ ë¶™ì¡íŒê±´ ìƒí™©ì„ ì§€ì¼œë³´ë˜ ë‹¹ì‹ ì´ì—ˆê³ , ë‹¹ì‹ ì€ "+npcs['kim'].gen+"ì˜ í˜ì— ëŒë ¤ ì‹¸ì›€ì´ ë¶™ì€ ë‚¨ìì™€ ë¶€ë”ªíˆê³  ì„œë¡œ ê°™ì´ ë„˜ì–´ì§€ê³  ë§Œë‹¤.\n\n\"ê¼´ ì¢‹ë„¤. ë˜ì§„ê²Œ ì € ë…„ì´ë¼ì„œ ì‚° ì¤„ ì•Œì•„. ëˆˆ ì„¸ëª¨ë¡œ ëœ¨ê³  ë‹¤ë‹ˆì§€ ë§ˆë¼.\"\n\nê·¸ë¦¬ê³  "+npcs['kim'].gen+"ëŠ” ë‹¹ì‹ ì„ ë°”ë¼ë³´ë”ë‹ˆ ì…ê¼¬ë¦¬ë¥¼ ì˜¬ë ¤ ì›ƒê³ ëŠ” ë°”ë¡œ ê·¸ ìë¦¬ë¥¼ ëœ¬ë‹¤."+
            "\n\n<span style='color: #22E105; font-weight: bold;'>ë‹¹ì‹ ì˜ ê´€ê³„ë„ ë€ì— Bê°€ ì¶”ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ì™€ êµë¥˜ë¥¼ í†µí•´ í˜¸ê°ë„ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ íŠ¹ì • ì´ë²¤íŠ¸ë¡œ í˜¸ê°ë„ê°€ ë‚®ì¶° ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</span>\n"
        }
    }

    function kimscevent(){
         if(npcs['kim'].event == 0){
            npcs['kim'].event = 1;
            goto = 'kimevent1';
        }
        else{
            goto = 'kimscmeet';
        }

    }



    function hamseatevent(){
        if(npcs['ham'].event == 0){
            npcs['ham'].event = 1;
            goto = 'hamevent1';
        }
        else{

            if (player.where== 'hamseetmeet'){
                if(player.time >= 550){
                    plus1 += "\"ì ê¹ êµ­ì–´ ìˆ˜ì—… ì‹œì‘í–ˆì–´. ê´œíˆ ë‚˜ ë•Œë¬¸ì— í˜¼ë‚˜ë©´ ì–´ë–¡í•´?\"\n"+npcs['ham'].gen+"ëŠ” ë‹¹ì‹ ì„ ë‹¤ê·¸ì¹˜ê³  ì±… ê°€ë°©ì—ì„œ ì±…ì„ êº¼ë‚¸ë‹¤. ë”ëŠ” ëŒ€í™” í•  ìˆ˜ ì—†ë‹¤." + "\n\n";
                    player.time -= 10;
                    goto = 'hamseetmeet';
                return;}
            const greetings = [
                "ë‹¹ì‹ ì€ "+npcs['ham'].gen+"ì˜ ìë¦¬ ì˜†ì—ì„œ ë¬´ì—‡ì„ í•˜ê³  ìˆëŠ” ì§€ ë¬»ëŠ”ë‹¤. "+npcs['ham'].gen+"ëŠ” ì›ƒìœ¼ë©° ìì‹ ì´ ê°€ì¥ ì¦ê²ê²Œ ë³´ê³  ìˆëŠ” ì›¹ ì‚¬ì´íŠ¸ í•˜ë‚˜ë¥¼ ë³´ì—¬ì¤€ë‹¤. ì‡¼í•‘ëª° ê´€ë ¨ ì‚¬ì´íŠ¸ë‹¤. ê°€ì§€ëŸ°í•œ ì˜·ë“¤ì´ ì¥ë°”êµ¬ë‹ˆì— ë“¤ì–´ìˆëŠ” ê²ƒì„ í™•ì¸í•œë‹¤."
            , "ë‹¹ì‹ ì€ "+npcs['ham'].gen+"ì˜ í”ë“¤ê±°ë¦¬ëŠ” ë‹¤ë¦¬ì— ë§ì¶° ë‹¤ë¦¬ë¥¼ í”ë“ ë‹¤. "+npcs['ham'].gen+"ëŠ” ëˆˆì¹˜ ëª»ì±ˆ ì±„ë¡œ íœ´ëŒ€í°ë§Œ ë°”ë¼ë³¸ë‹¤."
            , "ë‹¹ì‹ ì€ "+npcs['ham'].gen+"ì—ê²Œ ì·¨ë¯¸ë¥¼ ë¬¼ì–´ë³¸ë‹¤. \n\"ë‚´ ì·¨ë¯¸? ì•„ë§ˆë„ ì•„ì´ì‡¼í•‘ì´ë¼ë˜ê°€, ì‡¼í•‘ì´ë¼ë˜ê°€...\"\n"+npcs['ham'].gen+"ëŠ” í•œì°¸ ìƒê°í•˜ë‹¤ê°€ ìì‹ ì˜ ì»¬ë ‰ì…˜ë“¤ì„ ë³´ì—¬ì¤€ë‹¤. í•˜ë‚˜ ê°™ì´ ë¹„ì‹¼ ì œí’ˆë“¤ ë¿ì´ë‹¤.", 
            "\"ë¹šì€ ì²œì²œíˆ ì¤˜ë„ ë˜ì§€ë§Œ, ì™ ì§€ ë„ˆí•œí…ŒëŠ” ë¹¨ë¦¬ ì£¼ê³  ì‹¶ì—ˆì–´.\"\n"+npcs['ham'].gen+"ëŠ” ìœ¼ì“±ëŒ€ë©° ëª¸ì„ ë’¤ë¡œ ìˆ™ì¸ë‹¤. ê¹Šì€ ìƒê°ì´ ì—†ì–´ë³´ì¸ë‹¤."];
            plus1 += getRandomText(greetings) + "\n\n";
            goto = 'hamseetmeet';}
        }

    }




    

    // ì´ˆê¸° ìƒíƒœì°½ ë Œë”ë§
    refreshStatus();
</script>

</body>
</html>
